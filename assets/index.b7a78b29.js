var x=Object.defineProperty;var y=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var q=(r,t,e)=>t in r?x(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,S=(r,t)=>{for(var e in t||(t={}))M.call(t,e)&&q(r,e,t[e]);if(y)for(var e of y(t))N.call(t,e)&&q(r,e,t[e]);return r};import{l as _}from"./vendor.0b632fde.js";const T=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function e(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(n){if(n.ep)return;n.ep=!0;const o=e(n);fetch(n.href,o)}};T();var B=`<h1 id="wordlehttpswwwpowerlanguagecoukwordle-to-townscaperhttpswwwtownscapergamecom"><a href="https://www.powerlanguage.co.uk/wordle/">Wordle</a>++ to <a href="https://www.townscapergame.com/">TownScaper</a></h1>
<p>Similar to <a href="https://tarmo888.github.io/Wordle2Townscaper/">https://tarmo888.github.io/Wordle2Townscaper/</a>, but can parse Wordle variants.</p>
<p>Try also - <a href="https://www.quordle.com/">Quordle</a>, <a href="https://taximanli.github.io/kotobaasobou/">\u8A00\u8449\u3067\u904A\u307C\u3046</a>, <a href="https://plum-chloride.jp/kotonoha-tango/index.html">\u3053\u3068\u306E\u306F\u305F\u3093\u3054</a>, <a href="https://blog.duolingo.com/wordle-in-other-languages/">French, Italian, Spanish, Portuguese, Swedish, and German Wordle</a>, <a href="https://qntm.org/files/wordle/index.html">Absurdle</a>, <a href="http://saltong.carldegs.com/mini">Saltong Mini (Filipino)</a>, <a href="https://nerdlegame.com/">Nerdle (Math)</a></p>`;const k={" ":[],"\u2B1C":["\u26AA\uFE0F",":white_large_square:",":white_circle:"],"\u2B1B":["\u26AB\uFE0F",":black_large_square:",":black_circle:"],"\u{1F7E5}":[":red_square:",":large_red_square:"],"\u{1F7E7}":[":yellow_square:",":large_yellow_square:"],"\u{1F7E8}":["\u{1F7E1}",":yellow_square:",":yellow_circle:"],"\u{1F7E9}":["\u{1F7E2}",":green_square:",":green_circle:"],"\u{1F7E6}":[":blue_square:",":large_blue_square:"],"\u{1F7EA}":[":purple_square:",":large_purple_square:"]},A={" ":-1,"\u2B1C":-1,"\u2B1B":-1,"\u{1F7E5}":1,"\u{1F7E7}":2,"\u{1F7E8}":3,"\u{1F7E9}":5,"\u{1F7E6}":10,"\u{1F7EA}":11};function O(r){return r!==" "}document.querySelector("#readme").innerHTML=B;const g=document.querySelector("#raw"),w=document.querySelector("#ntries"),L=document.querySelectorAll(".townscaper-id"),h=document.querySelector("#townscaper-link"),d=document.querySelector("#submit"),p=document.querySelector("#cleaned"),F=document.querySelector("#link-area"),v=document.querySelector("#building-squares"),u={};document.querySelectorAll("[data-wordle-ntries]").forEach(r=>{r.addEventListener("click",()=>{u.ntries=Number(r.getAttribute("data-wordle-ntries"))||void 0,u.width=Number(r.getAttribute("data-wordle-width"))||void 0,w.value=String(u.ntries||""),d.click()})});g.oninput=()=>{d.click()};g.onpaste=()=>{d.click()};p.oninput=()=>{setTimeout(()=>{E(p.innerText,!0).then(j)})};w.oninput=()=>{d.click()};const f=new Map;Object.entries(k).map(([r,t])=>{f.set(r,r),t.map(e=>{f.set(e,r)})});v.innerText=Object.keys(k).join(" ");const C=new RegExp(`(?:${[...new Set(f.keys())].join("|")})`,"g");d.onclick=()=>{setTimeout(()=>{I(g.value).then(j)})};async function I(r){const t=[];for(const n of r.trim().split(/(?:\r?\n){2,}/g)){const o=n.trim();o&&(t.push(...await E(o)),t.push([]))}const e=[],i=n=>!n.join("").trim().length;return t.map((n,o)=>{i(n)&&(o===0||o===t.length-1||t[o-1]&&i(t[o-1]))||e.push(n)}),p.innerHTML=e.map(n=>n.join("")).join("<br/>"),e}async function E(r,t){let e=[],i=0;for(const n of r.split(`
`)){const o=Array.from(n.matchAll(C));if(o.length>0){const a=o.map(s=>f.get(s[0]));e.push(a),a.length>i&&(i=a.length)}}if(!t){const n=Number(w.value);e.length&&!isNaN(n)&&n>e.length&&(e=[...e,...Array(n-e.length).fill(e[0].map(o=>O(o)?"\u2B1B":" "))])}return e}async function j(r=[]){if(F.setAttribute("data-changed",""),!r||!r.length){b();return}const t=[],e=Math.max(...r.map(i=>i.length));for(let i=0;i<e;i++){const n={x:9*(i+1),y:-9,voxels:{0:15}};for(let o=0;o<r.length;o++){const a=A[r[r.length-o-1][i]];typeof a!="undefined"&&a>=0&&(n.voxels[o+1]=a)}t.push(n)}b(_.sparseToClip(t))}function b(r,t=u){if(r){F.removeAttribute("data-changed");let e=r;Object.entries(t).map(([i,n])=>{e+=`&${i}=${n}`}),history.replaceState(S({v:r},t),e,`#${e}`)}else t={};if(r=r||"FCIfgnPf_c",L.forEach(e=>{e.innerText=r}),h.href=h.getAttribute("data-baseurl")+r,h.innerText=h.href.replace(/^https:\/\//,""),Object.keys(t).length){const e=new Map;Object.entries(A).map(([a,s])=>{e.set(s,a)});const i=_.clipToSparse(r),n=Math.max(0,...i.flatMap(a=>Object.keys(a.voxels).map(s=>Number(s)-1))),o=JSON.parse(JSON.stringify(Array(n).fill(Array(i.length).fill("\u2B1B"))));if(t.ntries){const{ntries:a}=t;Array(Math.floor(n/a)).fill(null).map((s,c)=>{if(!c)return;const l=c*a-1;o[l]=[]})}if(i.map(a=>{Object.entries(a.voxels).map(([s,c])=>{let l=Number(s);if(l===0)return;l=n-l+1;const m=a.x/9-1;console.log(l),o[l]=o[l]||[],o[l][m]=e.get(c)||"\u2B1C"})}),t.width){const{width:a}=t;Array(Math.floor(i.length/a)).fill(null).map((s,c)=>{!c||o.map(l=>{if(!c)return;const m=c*a;l[m]=" "})})}p.innerHTML=o.map(a=>a.join("")).join("<br/>")}}async function P(){let r="";new URL(location.href).hash.replace(/^#/,"").split("&").map(t=>t.split("=",2)).map(([t,e])=>{if(!e){r=t;return}switch(t){case"type":u.type=e;break;case"ntries":u.ntries=Number(e)||void 0;break;case"width":u.width=Number(e)||void 0}}),b(r,u)}P();
