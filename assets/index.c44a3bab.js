import{l as S}from"./vendor.0b632fde.js";const k=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerpolicy&&(n.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?n.credentials="include":r.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(r){if(r.ep)return;r.ep=!0;const n=t(r);fetch(r.href,n)}};k();var L=`<h1 id="wordlehttpswwwpowerlanguagecoukwordle-to-townscaperhttpswwwtownscapergamecom"><a href="https://www.powerlanguage.co.uk/wordle/">Wordle</a>++ to <a href="https://www.townscapergame.com/">TownScaper</a></h1>
<p>Similar to <a href="https://tarmo888.github.io/Wordle2Townscaper/">https://tarmo888.github.io/Wordle2Townscaper/</a>, but can parse Wordle variants.</p>
<p>Try also - <a href="https://www.quordle.com/">Quordle</a>, <a href="https://taximanli.github.io/kotobaasobou/">\u8A00\u8449\u3067\u904A\u307C\u3046</a>, <a href="https://plum-chloride.jp/kotonoha-tango/index.html">\u3053\u3068\u306E\u306F\u305F\u3093\u3054</a>, <a href="https://blog.duolingo.com/wordle-in-other-languages/">French, Italian, Spanish, Portuguese, Swedish, and German Wordle</a>, <a href="https://qntm.org/files/wordle/index.html">Absurdle</a>, <a href="http://saltong.carldegs.com/mini">Saltong Mini (Filipino)</a>, <a href="https://nerdlegame.com/">Nerdle (Math)</a></p>`;const E={" ":[],"\u2B1C":["\u26AA\uFE0F",":white_large_square:",":white_circle:"],"\u2B1B":["\u26AB\uFE0F",":black_large_square:",":black_circle:"],"\u{1F7E5}":[":red_square:",":large_red_square:"],"\u{1F7E7}":[":yellow_square:",":large_yellow_square:"],"\u{1F7E8}":["\u{1F7E1}",":yellow_square:",":yellow_circle:"],"\u{1F7E9}":["\u{1F7E2}",":green_square:",":green_circle:"],"\u{1F7E6}":[":blue_square:",":large_blue_square:"],"\u{1F7EA}":[":purple_square:",":large_purple_square:"],"\u{1F53C}":[":arrow_up_small:",":arrow_up:"],"\u2195\uFE0F":[":arrow_up_down:"],"\u2194":["\u2194 ",":arrow_left_right:"],"\u{1F53D}":[":arrow_down_small:",":arrow_down:"]},F={" ":-1,"\u2B1C":-1,"\u2B1B":-1,"\u{1F7E5}":1,"\u{1F7E7}":2,"\u{1F7E8}":3,"\u{1F53D}":3,"\u2194":3,"\u{1F7E9}":5,"\u{1F7E6}":10,"\u{1F53C}":10,"\u2195\uFE0F":10,"\u{1F7EA}":11};function j(e){return e!==" "}const m="\u2B1C";document.querySelector("#readme").innerHTML=L;const p=document.querySelector("#raw"),d=document.querySelector("#ntries"),M=document.querySelectorAll(".townscaper-id"),g=document.querySelector("#townscaper-link"),h=document.querySelector("#submit"),w=document.querySelector("#cleaned"),q=document.querySelector("#link-area"),N=document.querySelector("#building-squares"),O=document.querySelectorAll("a[data-wordle-ntries]"),i={type:localStorage.getItem("type")||void 0,ntries:Number(localStorage.getItem("ntries"))||void 0,width:Number(localStorage.getItem("width"))||void 0},b=new Map;O.forEach(e=>{if(e.innerText){const o={type:e.innerText,ntries:Number(e.getAttribute("data-wordle-ntries")),width:Number(e.getAttribute("data-wordle-width"))};b.set(o.type,o),e.addEventListener("click",()=>{i.type===o.type?(i.type=void 0,i.width=void 0):(i.type=o.type,i.ntries=o.ntries,i.width=o.width,d.value=String(o.ntries)),h.click()})}});const I=new RegExp(`(${[...b.keys()].map(e=>T(e)).join("|")})`);p.addEventListener("input",()=>{h.click()});p.addEventListener("paste",()=>{setTimeout(()=>{let e="";const o=I.exec(p.value);if(o&&o[1]){const t=b.get(o[1]);t&&(e=t.type,i.type=t.type,i.ntries=t.ntries,i.width=t.width,d.value=String(t.ntries))}if(!e){i.type=void 0;const t=/\d+\/(\d+)/.exec(p.value);t&&t[1]&&(i.ntries=Number(t[1]),d.value=t[1])}h.click()})});w.addEventListener("input",()=>{setTimeout(()=>{v(w.innerText,!0).then(A)})});d.addEventListener("input",()=>{i.type=void 0,i.ntries=Number(d.value)||void 0,h.click()});const y=new Map;Object.entries(E).map(([e,o])=>{o.map(t=>{y.set(t,e)}),y.set(e,e)});N.innerText=Object.keys(E).join("");const B=new RegExp(`(?:${[...new Set(y.keys())].map(e=>T(e)).join("|")})`,"g");h.addEventListener("click",()=>{setTimeout(()=>{C(p.value).then(A)})});async function C(e){const o=[];for(const r of e.trim().split(/(?:\r?\n){2,}/g)){const n=r.trim();n&&(o.push(...await v(n)),o.push([]))}const t=[],s=r=>!r.join("").trim().length;return o.map((r,n)=>{s(r)&&(n===0||n===o.length-1||o[n-1]&&s(o[n-1]))||t.push(r)}),w.innerHTML=t.map(r=>r.join("")).join("<br/>"),t}async function v(e,o){let t=[],s=0;for(const r of e.split(`
`)){const n=Array.from(r.matchAll(B));if(n.length>0){const a=n.map(u=>y.get(u[0]));t.push(a),a.length>s&&(s=a.length)}}return o||t.length&&i.ntries&&i.ntries>t.length&&(t=[...t,...Array(i.ntries-t.length).fill(t[0].map(r=>j(r)?m:" "))]),t}async function A(e=[]){if(q.setAttribute("data-changed",""),!e||!e.length){_();return}const o=[],t=Math.max(...e.map(s=>s.length));for(let s=0;s<t;s++){const r={x:9*(s+1),y:-9,voxels:{0:15}};for(let n=0;n<e.length;n++){const a=F[e[e.length-n-1][s]];typeof a!="undefined"&&a>=0&&(r.voxels[n+1]=a)}o.push(r)}_(S.sparseToClip(o))}function _(e,o){if(e){q.removeAttribute("data-changed");let t=e;Object.entries(i).map(([r,n])=>{n?(t+=`&${r}=${n}`,localStorage.setItem(r,n)):localStorage.removeItem(r)});const s=new URL(location.href);s.hash=t,location.replace(s.href),x()}else o=!1;if(e=e||"FCIfgnPf_c",M.forEach(t=>{t.innerText=e}),g.href=g.getAttribute("data-baseurl")+e,g.innerText=g.href.replace(/^https:\/\//,""),o===!0){const t=new Map;Object.entries(F).map(([a,u])=>{t.set(u,a)});const s=S.clipToSparse(e),r=Math.max(0,...s.flatMap(a=>Object.keys(a.voxels).map(u=>Number(u)-1))),n=JSON.parse(JSON.stringify(Array(r).fill(Array(s.length).fill(m))));if(i.ntries){const{ntries:a}=i;Array(Math.floor(r/a)).fill(null).map((u,c)=>{if(!c)return;const l=c*a-1;n[l]=[]})}if(s.map(a=>{Object.entries(a.voxels).map(([u,c])=>{let l=Number(u);if(l===0)return;l=r-l+1;const f=a.x/9-1;n[l]=n[l]||[],n[l][f]=t.get(c)||m})}),i.width){const{width:a}=i;s.length>a?Array(Math.floor(s.length/a)).fill(null).map((u,c)=>{!c||n.map(l=>{if(!c)return;const f=c*a;l[f]===m?l[f]=" ":i.width=void 0})}):i.width=void 0}w.innerHTML=n.map(a=>a.join("")).join("<br/>")}}function x(){d.value=String(i.ntries||""),document.querySelectorAll("[data-wordle-ntries]").forEach(e=>{e.textContent===i.type?e.setAttribute("data-current","true"):e.removeAttribute("data-current")})}function T(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}async function R(){x();let e="";new URL(location.href).hash.replace(/^#/,"").split("&").map(o=>o.split("=",2)).map(([o,t])=>{if(!t){e=o;return}switch(o){case"type":i.type=decodeURIComponent(t);break;case"ntries":i.ntries=Number(t)||void 0;break;case"width":i.width=Number(t)||void 0}}),_(e,!0)}R();
